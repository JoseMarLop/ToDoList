import{r as a,_ as Be,R as j,c as je,b as U,P as w,t as br,f as yr,j as o,C as xr}from"./index-DtnmVna2.js";import{a as wr,b as Pn,c as Cr,T as jr,i as wn,d as In,e as Sr,f as Er,r as Pe,g as Nr,u as ce,C as $,h as Te,j as Zt,k as Ee,l as Ne,m as xt,n as ue,o as Me,p as Re,q as _r,s as Dr,t as kr,v as Rt,w as Bn,x as Xe,y as Tr,z as At,H as Mr}from"./Header-DTW_13-E.js";var lt=function(e){var t=e.getBoundingClientRect();return Math.floor(t.top)>=0&&Math.floor(t.left)>=0&&Math.floor(t.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.floor(t.right)<=(window.innerWidth||document.documentElement.clientWidth)},Xt=a.forwardRef(function(e,t){var n,r=e.className,s=e.id,i=e.invalid,c=e.label,l=e.reverse,d=e.size,u=e.type,f=u===void 0?"checkbox":u,h=e.valid,g=Be(e,["className","id","invalid","label","reverse","size","type","valid"]);return j.createElement("div",{className:je("form-check form-switch",(n={"form-check-reverse":l},n["form-switch-".concat(d)]=d,n["is-invalid"]=i,n["is-valid"]=h,n),r)},j.createElement("input",U({type:f,className:je("form-check-input",{"is-invalid":i,"is-valid":h}),id:s},g,{ref:t})),c&&j.createElement(wr,U({customClassName:"form-check-label"},s&&{htmlFor:s}),c))});Xt.propTypes={className:w.string,id:w.string,invalid:w.bool,label:w.oneOfType([w.string,w.node]),reverse:w.bool,size:w.oneOf(["lg","xl"]),type:w.oneOf(["checkbox","radio"]),valid:w.bool};Xt.displayName="CFormSwitch";var et=a.forwardRef(function(e,t){var n=e.children,r=e.className,s=e.feedback,i=e.feedbackInvalid,c=e.feedbackValid,l=e.floatingClassName,d=e.floatingLabel,u=e.id,f=e.invalid,h=e.label,g=e.plainText,b=e.text,x=e.tooltipFeedback,v=e.valid,m=Be(e,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return j.createElement(Pn,{describedby:m["aria-describedby"],feedback:s,feedbackInvalid:i,feedbackValid:c,floatingClassName:l,floatingLabel:d,id:u,invalid:f,label:h,text:b,tooltipFeedback:x,valid:v},j.createElement("textarea",U({className:je(g?"form-control-plaintext":"form-control",{"is-invalid":f,"is-valid":v},r),id:u},m,{ref:t}),n))});et.propTypes=U({className:w.string,id:w.string,plainText:w.bool},Pn.propTypes);et.displayName="CFormTextarea";var Cn=function(e,t){var n=e.toString().split("."),r=t.toString().split(".");return r.every(function(s,i){return s===n[i]})},ut=a.forwardRef(function(e,t){var n=e.children,r=e.as,s=r===void 0?"li":r,i=e.className,c=e.compact,l=e.idx,d=e.toggler,u=e.visible,f=Be(e,["children","as","className","compact","idx","toggler","visible"]),h=a.useState(0),g=h[0],b=h[1],x=a.useRef(null),v=a.useContext(Cr),m=v.visibleGroup,p=v.setVisibleGroup,C=a.useState(!!(u||l&&m&&Cn(m,l))),y=C[0],k=C[1];a.useEffect(function(){k(!!(l&&m&&Cn(m,l)))},[m]);var E=function(A){A.preventDefault(),p(y?l!=null&&l.toString().includes(".")?l.slice(0,l.lastIndexOf(".")):"":l),k(!y)},D={height:0},_=function(){x.current&&b(x.current.scrollHeight)},S=function(){b("auto")},N=function(){x.current&&b(x.current.scrollHeight)},O=function(){var A;(A=x.current)===null||A===void 0||A.offsetHeight,b(0)},M=function(){b(0)},I={entering:{display:"block",height:g},entered:{display:"block",height:g},exiting:{display:"block",height:g},exited:{height:g},unmounted:{}},L=s==="li"?"ul":"div";return j.createElement(s,U({className:je("nav-group",{show:y},i)},f,{ref:t}),d&&j.createElement("a",{className:"nav-link nav-group-toggle",href:"#",onClick:function(A){return E(A)}},d),j.createElement(jr,{in:y,nodeRef:x,onEntering:_,onEntered:S,onExit:N,onExiting:O,onExited:M,timeout:300},function(A){return j.createElement(L,{className:je("nav-group-items",{compact:c}),style:U(U({},D),I[A]),ref:x},n)}))});ut.propTypes={as:w.elementType,children:w.node,className:w.string,compact:w.bool,idx:w.string,toggler:w.oneOfType([w.string,w.node]),visible:w.bool};ut.displayName="CNavGroup";var Kt=a.forwardRef(function(e,t){var n=e.children,r=e.as,s=r===void 0?"li":r,i=e.className,c=Be(e,["children","as","className"]);return j.createElement(s,U({className:je("nav-title",i)},c,{ref:t}),n)});Kt.propTypes={as:w.elementType,children:w.node,className:w.string};Kt.displayName="CNavTitle";var Rr=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,s=Number.parseFloat(n),i=Number.parseFloat(r);return!s&&!i?0:(n=n.split(",")[0],r=r.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(r))*1e3)},jn=function(e){typeof e=="function"&&e()},Ar=function(e){e.dispatchEvent(new Event("transitionend"))},Or=function(e,t,n){if(n===void 0&&(n=!0),!n){jn(e);return}var r=5,s=Rr(t)+r,i=!1,c=function(l){var d=l.target;d===t&&(i=!0,t.removeEventListener("transitionend",c),jn(e))};t.addEventListener("transitionend",c),setTimeout(function(){i||Ar(t)},s)},$r=function(e,t){switch(e){case"right":return wn(t)?"left":"right";case"left":return wn(t)?"right":"left";default:return e}},Gt=a.forwardRef(function(e,t){var n=e.children,r=e.animation,s=r===void 0?!0:r,i=e.className,c=e.container,l=e.content,d=e.delay,u=d===void 0?0:d,f=e.fallbackPlacements,h=f===void 0?["top","right","bottom","left"]:f,g=e.offset,b=g===void 0?[0,8]:g,x=e.onHide,v=e.onShow,m=e.placement,p=m===void 0?"top":m,C=e.popperConfig,y=e.title,k=e.trigger,E=k===void 0?"click":k,D=e.visible,_=Be(e,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","title","trigger","visible"]),S=a.useRef(null),N=a.useRef(null),O=In(t,S),M="popover".concat(a.useId()),I=a.useState(!1),L=I[0],A=I[1],ie=a.useState(D),ee=ie[0],T=ie[1],z=Sr(),K=z.initPopper,me=z.destroyPopper,pe=typeof u=="number"?{show:u,hide:u}:u,Y={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:h}},{name:"offset",options:{offset:b}}],placement:$r(p,N.current)},P=U(U({},Y),typeof C=="function"?C(Y):C);a.useEffect(function(){if(D){V();return}re()},[D]),a.useEffect(function(){if(L&&N.current&&S.current){K(N.current,S.current,P),setTimeout(function(){T(!0)},pe.show);return}!L&&N.current&&S.current&&me()},[L]),a.useEffect(function(){!ee&&N.current&&S.current&&Or(function(){A(!1)},S.current)},[ee]);var V=function(){A(!0),v&&v()},re=function(){setTimeout(function(){T(!1),x&&x()},pe.hide)};return j.createElement(j.Fragment,null,j.cloneElement(n,U(U(U(U(U({},ee&&{"aria-describedby":M}),{ref:N}),(E==="click"||E.includes("click"))&&{onClick:function(){return ee?re():V()}}),(E==="focus"||E.includes("focus"))&&{onFocus:function(){return V()},onBlur:function(){return re()}}),(E==="hover"||E.includes("hover"))&&{onMouseEnter:function(){return V()},onMouseLeave:function(){return re()}})),j.createElement(Er,{container:c,portal:!0},L&&j.createElement("div",U({className:je("popover","bs-popover-auto",{fade:s,show:ee},i),id:M,ref:O,role:"tooltip"},_),j.createElement("div",{className:"popover-arrow"}),j.createElement("div",{className:"popover-header"},y),j.createElement("div",{className:"popover-body"},l))))});Gt.propTypes={animation:w.bool,children:w.node,className:w.string,container:w.any,content:w.oneOfType([w.string,w.node]),delay:w.oneOfType([w.number,w.shape({show:w.number.isRequired,hide:w.number.isRequired})]),fallbackPlacements:yr,offset:w.any,onHide:w.func,onShow:w.func,placement:w.oneOf(["auto","top","right","bottom","left"]),popperConfig:w.oneOfType([w.func,w.object]),title:w.oneOfType([w.string,w.node]),trigger:br,visible:w.bool};Gt.displayName="CPopover";var Ot=function(e){return!!getComputedStyle(e).getPropertyValue("--cui-is-mobile")},Yt=a.forwardRef(function(e,t){var n,r=e.children,s=e.as,i=s===void 0?"div":s,c=e.className,l=e.colorScheme,d=e.narrow,u=e.onHide,f=e.onShow,h=e.onVisibleChange,g=e.overlaid,b=e.placement,x=e.position,v=e.size,m=e.unfoldable,p=e.visible,C=Be(e,["children","as","className","colorScheme","narrow","onHide","onShow","onVisibleChange","overlaid","placement","position","size","unfoldable","visible"]),y=a.useRef(null),k=In(t,y),E=a.useState(),D=E[0],_=E[1],S=a.useState(!1),N=S[0],O=S[1],M=a.useState(!1),I=M[0],L=M[1],A=a.useState(p!==void 0?p:!g),ie=A[0],ee=A[1];a.useEffect(function(){y.current&&O(Ot(y.current)),p!==void 0&&T(p)},[p]),a.useEffect(function(){D!==void 0&&h&&h(D),!D&&u&&u(),D&&f&&f()},[D]),a.useEffect(function(){N&&L(!1)},[N]),a.useEffect(function(){var P,V;return y.current&&O(Ot(y.current)),y.current&&_(lt(y.current)),window.addEventListener("resize",K),window.addEventListener("mouseup",pe),window.addEventListener("keyup",me),(P=y.current)===null||P===void 0||P.addEventListener("mouseup",Y),(V=y.current)===null||V===void 0||V.addEventListener("transitionend",function(){y.current&&_(lt(y.current))}),function(){var re,X;window.removeEventListener("resize",K),window.removeEventListener("mouseup",pe),window.removeEventListener("keyup",me),(re=y.current)===null||re===void 0||re.removeEventListener("mouseup",Y),(X=y.current)===null||X===void 0||X.removeEventListener("transitionend",function(){y.current&&_(lt(y.current))})}});var T=function(P){if(N){L(P);return}ee(P)},z=function(){T(!1)},K=function(){y.current&&O(Ot(y.current)),y.current&&_(lt(y.current))},me=function(P){N&&y.current&&!y.current.contains(P.target)&&z()},pe=function(P){N&&y.current&&!y.current.contains(P.target)&&z()},Y=function(P){var V=P.target;V&&V.classList.contains("nav-link")&&!V.classList.contains("nav-group-toggle")&&N&&z()};return j.createElement(j.Fragment,null,j.createElement(i,U({className:je("sidebar",(n={},n["sidebar-".concat(l)]=l,n["sidebar-narrow"]=d,n["sidebar-overlaid"]=g,n["sidebar-".concat(b)]=b,n["sidebar-".concat(x)]=x,n["sidebar-".concat(v)]=v,n["sidebar-narrow-unfoldable"]=m,n.show=N&&I||g&&ie,n.hide=ie===!1&&!N&&!g,n),c)},C,{ref:k}),r),typeof window<"u"&&N&&Pe.createPortal(j.createElement(Nr,{className:"sidebar-backdrop",visible:N&&I}),document.body))});Yt.propTypes={as:w.elementType,children:w.node,className:w.string,colorScheme:w.oneOf(["dark","light"]),narrow:w.bool,onHide:w.func,onShow:w.func,onVisibleChange:w.func,overlaid:w.bool,placement:w.oneOf(["start","end"]),position:w.oneOf(["fixed","sticky"]),size:w.oneOf(["sm","lg","xl"]),unfoldable:w.bool,visible:w.bool};Yt.displayName="CSidebar";var Sn=["32 32","<path d='M27.818 19.307c-1.974 0.557-3.318 1.714-3.318 3.62v5.443c0 4.063-3.875 3.615-8.693 3.615h-0.74c-0.297 0-0.479-0.109-0.479-0.37v-1.865c0-0.26 0.161-0.375 0.464-0.375h0.599c2.88 0 4.901 0.635 4.901-1.677v-5.224c0-1.599 1.12-3.839 3.359-4.656 0.161-0.042 0.182-0.115 0.182-0.188 0-0.078-0.042-0.188-0.182-0.26-2.042-0.932-3.359-2.458-3.359-4.292v-5.896c0-2.276-2-4.552-4.88-4.552h-0.599c-0.302 0-0.443-0.109-0.443-0.37v-1.859c0-0.26 0.198-0.375 0.5-0.375h0.74c4.802 0 8.724 3.432 8.724 7.495v4.958c0 1.88 1.339 2.958 3.359 3.661 0.74 0.219 1.156 0.26 1.156 0.859v1.563c0.042 0.339-0.318 0.5-1.219 0.755zM10.792 31.958h-7.453c-0.302 0-0.453-0.073-0.453-0.333v-31.255c0-0.219 0.141-0.37 0.443-0.37h7.38c0.302 0 0.479 0.115 0.479 0.37v1.943c0 0.26-0.161 0.333-0.464 0.333h-3.297c-0.406 0-0.557 0.151-0.557 0.411v25.88c0 0.26 0.151 0.359 0.49 0.359h3.354c0.302 0 0.484 0.104 0.484 0.339v1.979c0.042 0.224-0.109 0.344-0.411 0.344zM17.292 14.583h-1.984c-0.479 0-0.854-0.375-0.854-0.786v-1.792c0-0.448 0.411-0.781 0.854-0.781h1.984c0.474 0 0.854 0.37 0.854 0.781v1.792c0 0.448-0.411 0.781-0.859 0.781z'/>"],Lr=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M472,96H384V40H352V96H160V40H128V96H40a24.028,24.028,0,0,0-24,24V456a24.028,24.028,0,0,0,24,24H472a24.028,24.028,0,0,0,24-24V120A24.028,24.028,0,0,0,472,96Zm-8,352H48V128h80v40h32V128H352v40h32V128h80Z' class='ci-primary'/><rect width='32' height='32' x='112' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='112' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='112' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"],zr=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='200.359 382.269 61.057 251.673 82.943 228.327 199.641 337.731 428.686 108.687 451.314 131.313 200.359 382.269' class='ci-primary'/>"],Pr=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M334.627,16H48V496H472V153.373ZM440,166.627V168H320V48h1.373ZM80,464V48H288V200H440V464Z' class='ci-primary'/><rect width='224' height='32' x='136' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='224' height='32' x='136' y='376' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"],Ir=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M472,472H40a24.028,24.028,0,0,1-24-24V64A24.028,24.028,0,0,1,40,40H226.667a23.935,23.935,0,0,1,22.154,14.77L269.333,104H472a24.028,24.028,0,0,1,24,24V448A24.028,24.028,0,0,1,472,472ZM48,440H464V136H248L221.333,72H48Z' class='ci-primary'/>"],Br=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M462.541,316.3l-64.344-42.1,24.774-45.418A79.124,79.124,0,0,0,432.093,192V120A103.941,103.941,0,0,0,257.484,43.523L279.232,67a71.989,71.989,0,0,1,120.861,53v72a46.809,46.809,0,0,1-5.215,21.452L355.962,284.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421V432h-72v32h104V378.494A74.061,74.061,0,0,0,462.541,316.3Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M318.541,348.3l-64.343-42.1,24.773-45.418A79.124,79.124,0,0,0,288.093,224V152A104.212,104.212,0,0,0,184.04,47.866C126.723,47.866,80.093,94.581,80.093,152v72a78,78,0,0,0,9.015,36.775l24.908,45.664L50.047,348.3A74.022,74.022,0,0,0,16.5,410.4L16,496H352.093V410.494A74.061,74.061,0,0,0,318.541,348.3ZM320.093,464H48.186l.31-53.506a42.158,42.158,0,0,1,19.073-35.421l88.682-58.029L117.2,245.452A46.838,46.838,0,0,1,112.093,224V152a72,72,0,1,1,144,0v72a46.809,46.809,0,0,1-5.215,21.452L211.962,316.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421Z' class='ci-primary'/>"],Fr=["512 512","<rect width='264' height='32' x='208' y='80' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M40,96a64,64,0,1,0,64-64A64.072,64.072,0,0,0,40,96Zm64-32A32,32,0,1,1,72,96,32.036,32.036,0,0,1,104,64Z' class='ci-primary'/><rect width='264' height='32' x='208' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M104,320a64,64,0,1,0-64-64A64.072,64.072,0,0,0,104,320Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,104,224Z' class='ci-primary'/><rect width='264' height='32' x='208' y='400' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M104,480a64,64,0,1,0-64-64A64.072,64.072,0,0,0,104,480Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,104,384Z' class='ci-primary'/>"],Fn=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"],wt=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='440 240 272 240 272 72 240 72 240 240 72 240 72 272 240 272 240 440 272 440 272 272 440 272 440 240' class='ci-primary'/>"],Vr=["512 512","<rect width='32' height='32' x='144' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='240' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='336' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M464,32H48A32.036,32.036,0,0,0,16,64V352a32.036,32.036,0,0,0,32,32h64V496h30.627l112-112H464a32.036,32.036,0,0,0,32-32V64A32.036,32.036,0,0,0,464,32Zm0,320H241.373L144,449.373V352H48V64H464Z' class='ci-primary'/>"],tt=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>"],Hr=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='427.314 107.313 404.686 84.687 256 233.373 107.314 84.687 84.686 107.313 233.373 256 84.686 404.687 107.314 427.313 256 278.627 404.686 427.313 427.314 404.687 278.627 256 427.314 107.313' class='ci-primary'/>"];const Ct=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fe(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Jt(e){return"nodeType"in e}function G(e){var t,n;return e?Fe(e)?e:Jt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function qt(e){const{Document:t}=G(e);return e instanceof t}function nt(e){return Fe(e)?!1:e instanceof G(e).HTMLElement}function Vn(e){return e instanceof G(e).SVGElement}function Ve(e){return e?Fe(e)?e.document:Jt(e)?qt(e)?e:nt(e)||Vn(e)?e.ownerDocument:document:document:document}const Se=Ct?a.useLayoutEffect:a.useEffect;function Qt(e){const t=a.useRef(e);return Se(()=>{t.current=e}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Ur(){const e=a.useRef(null),t=a.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=a.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Je(e,t){t===void 0&&(t=[e]);const n=a.useRef(e);return Se(()=>{n.current!==e&&(n.current=e)},t),n}function rt(e,t){const n=a.useRef();return a.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ft(e){const t=Qt(e),n=a.useRef(null),r=a.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Ft(e){const t=a.useRef();return a.useEffect(()=>{t.current=e},[e]),t.current}let $t={};function jt(e,t){return a.useMemo(()=>{if(t)return t;const n=$t[e]==null?0:$t[e]+1;return $t[e]=n,e+"-"+n},[e,t])}function Hn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,c)=>{const l=Object.entries(c);for(const[d,u]of l){const f=i[d];f!=null&&(i[d]=f+e*u)}return i},{...t})}}const Ie=Hn(1),ht=Hn(-1);function Wr(e){return"clientX"in e&&"clientY"in e}function Un(e){if(!e)return!1;const{KeyboardEvent:t}=G(e.target);return t&&e instanceof t}function Zr(e){if(!e)return!1;const{TouchEvent:t}=G(e.target);return t&&e instanceof t}function Vt(e){if(Zr(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Wr(e)?{x:e.clientX,y:e.clientY}:null}const En="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Xr(e){return e.matches(En)?e:e.querySelector(En)}const Kr={display:"none"};function Gr(e){let{id:t,value:n}=e;return j.createElement("div",{id:t,style:Kr},n)}function Yr(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return j.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function Jr(){const[e,t]=a.useState("");return{announce:a.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Wn=a.createContext(null);function qr(e){const t=a.useContext(Wn);a.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Qr(){const[e]=a.useState(()=>new Set),t=a.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[a.useCallback(r=>{let{type:s,event:i}=r;e.forEach(c=>{var l;return(l=c[s])==null?void 0:l.call(c,i)})},[e]),t]}const eo={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},to={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function no(e){let{announcements:t=to,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=eo}=e;const{announce:i,announcement:c}=Jr(),l=jt("DndLiveRegion"),[d,u]=a.useState(!1);if(a.useEffect(()=>{u(!0)},[]),qr(a.useMemo(()=>({onDragStart(h){let{active:g}=h;i(t.onDragStart({active:g}))},onDragMove(h){let{active:g,over:b}=h;t.onDragMove&&i(t.onDragMove({active:g,over:b}))},onDragOver(h){let{active:g,over:b}=h;i(t.onDragOver({active:g,over:b}))},onDragEnd(h){let{active:g,over:b}=h;i(t.onDragEnd({active:g,over:b}))},onDragCancel(h){let{active:g,over:b}=h;i(t.onDragCancel({active:g,over:b}))}}),[i,t])),!d)return null;const f=j.createElement(j.Fragment,null,j.createElement(Gr,{id:r,value:s.draggable}),j.createElement(Yr,{id:l,announcement:c}));return n?Pe.createPortal(f,n):f}var B;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(B||(B={}));function mt(){}const se=Object.freeze({x:0,y:0});function ro(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function oo(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function so(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),c=s-r,l=i-n;if(r<s&&n<i){const d=t.width*t.height,u=e.width*e.height,f=c*l,h=f/(d+u-f);return Number(h.toFixed(4))}return 0}const io=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:c}=i,l=n.get(c);if(l){const d=so(l,t);d>0&&s.push({id:c,data:{droppableContainer:i,value:d}})}}return s.sort(ro)};function ao(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Zn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:se}function lo(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((c,l)=>({...c,top:c.top+e*l.y,bottom:c.bottom+e*l.y,left:c.left+e*l.x,right:c.right+e*l.x}),{...n})}}const co=lo(1);function uo(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function fo(e,t,n){const r=uo(t);if(!r)return e;const{scaleX:s,scaleY:i,x:c,y:l}=r,d=e.left-c-(1-s)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,h=i?e.height/i:e.height;return{width:f,height:h,top:u,right:d+f,bottom:u+h,left:d}}const ho={ignoreTransform:!1};function ot(e,t){t===void 0&&(t=ho);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=G(e).getComputedStyle(e);u&&(n=fo(n,u,f))}const{top:r,left:s,width:i,height:c,bottom:l,right:d}=n;return{top:r,left:s,width:i,height:c,bottom:l,right:d}}function Nn(e){return ot(e,{ignoreTransform:!0})}function mo(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function po(e,t){return t===void 0&&(t=G(e).getComputedStyle(e)),t.position==="fixed"}function go(e,t){t===void 0&&(t=G(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function en(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(qt(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!nt(s)||Vn(s)||n.includes(s))return n;const i=G(e).getComputedStyle(s);return s!==e&&go(s,i)&&n.push(s),po(s,i)?n:r(s.parentNode)}return e?r(e):n}function Xn(e){const[t]=en(e,1);return t??null}function Lt(e){return!Ct||!e?null:Fe(e)?e:Jt(e)?qt(e)||e===Ve(e).scrollingElement?window:nt(e)?e:null:null}function Kn(e){return Fe(e)?e.scrollX:e.scrollLeft}function Gn(e){return Fe(e)?e.scrollY:e.scrollTop}function Ht(e){return{x:Kn(e),y:Gn(e)}}var F;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(F||(F={}));function Yn(e){return!Ct||!e?!1:e===document.scrollingElement}function Jn(e){const t={x:0,y:0},n=Yn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,c=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:c,isRight:l,maxScroll:r,minScroll:t}}const vo={x:.2,y:.2};function bo(e,t,n,r,s){let{top:i,left:c,right:l,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=vo);const{isTop:u,isBottom:f,isLeft:h,isRight:g}=Jn(e),b={x:0,y:0},x={x:0,y:0},v={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+v.height?(b.y=F.Backward,x.y=r*Math.abs((t.top+v.height-i)/v.height)):!f&&d>=t.bottom-v.height&&(b.y=F.Forward,x.y=r*Math.abs((t.bottom-v.height-d)/v.height)),!g&&l>=t.right-v.width?(b.x=F.Forward,x.x=r*Math.abs((t.right-v.width-l)/v.width)):!h&&c<=t.left+v.width&&(b.x=F.Backward,x.x=r*Math.abs((t.left+v.width-c)/v.width)),{direction:b,speed:x}}function yo(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:c}=window;return{top:0,left:0,right:i,bottom:c,width:i,height:c}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function qn(e){return e.reduce((t,n)=>Ie(t,Ht(n)),se)}function xo(e){return e.reduce((t,n)=>t+Kn(n),0)}function wo(e){return e.reduce((t,n)=>t+Gn(n),0)}function Co(e,t){if(t===void 0&&(t=ot),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);Xn(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const jo=[["x",["left","right"],xo],["y",["top","bottom"],wo]];class tn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=en(n),s=qn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,c,l]of jo)for(const d of c)Object.defineProperty(this,d,{get:()=>{const u=l(r),f=s[i]-u;return this.rect[d]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ke{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function So(e){const{EventTarget:t}=G(e);return e instanceof t?e:Ve(e)}function zt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ne;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ne||(ne={}));function _n(e){e.preventDefault()}function Eo(e){e.stopPropagation()}var R;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(R||(R={}));const Qn={start:[R.Space,R.Enter],cancel:[R.Esc],end:[R.Space,R.Enter,R.Tab]},No=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case R.Right:return{...n,x:n.x+25};case R.Left:return{...n,x:n.x-25};case R.Down:return{...n,y:n.y+25};case R.Up:return{...n,y:n.y-25}}};class er{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ke(Ve(n)),this.windowListeners=new Ke(G(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ne.Resize,this.handleCancel),this.windowListeners.add(ne.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ne.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Co(r),n(se)}handleKeyDown(t){if(Un(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=Qn,coordinateGetter:c=No,scrollBehavior:l="smooth"}=s,{code:d}=t;if(i.end.includes(d)){this.handleEnd(t);return}if(i.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:se;this.referenceCoordinates||(this.referenceCoordinates=f);const h=c(t,{active:n,context:r.current,currentCoordinates:f});if(h){const g=ht(h,f),b={x:0,y:0},{scrollableAncestors:x}=r.current;for(const v of x){const m=t.code,{isTop:p,isRight:C,isLeft:y,isBottom:k,maxScroll:E,minScroll:D}=Jn(v),_=yo(v),S={x:Math.min(m===R.Right?_.right-_.width/2:_.right,Math.max(m===R.Right?_.left:_.left+_.width/2,h.x)),y:Math.min(m===R.Down?_.bottom-_.height/2:_.bottom,Math.max(m===R.Down?_.top:_.top+_.height/2,h.y))},N=m===R.Right&&!C||m===R.Left&&!y,O=m===R.Down&&!k||m===R.Up&&!p;if(N&&S.x!==h.x){const M=v.scrollLeft+g.x,I=m===R.Right&&M<=E.x||m===R.Left&&M>=D.x;if(I&&!g.y){v.scrollTo({left:M,behavior:l});return}I?b.x=v.scrollLeft-M:b.x=m===R.Right?v.scrollLeft-E.x:v.scrollLeft-D.x,b.x&&v.scrollBy({left:-b.x,behavior:l});break}else if(O&&S.y!==h.y){const M=v.scrollTop+g.y,I=m===R.Down&&M<=E.y||m===R.Up&&M>=D.y;if(I&&!g.x){v.scrollTo({top:M,behavior:l});return}I?b.y=v.scrollTop-M:b.y=m===R.Down?v.scrollTop-E.y:v.scrollTop-D.y,b.y&&v.scrollBy({top:-b.y,behavior:l});break}}this.handleMove(t,Ie(ht(h,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}er.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Qn,onActivation:s}=t,{active:i}=n;const{code:c}=e.nativeEvent;if(r.start.includes(c)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Dn(e){return!!(e&&"distance"in e)}function kn(e){return!!(e&&"delay"in e)}class nn{constructor(t,n,r){var s;r===void 0&&(r=So(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:c}=i;this.props=t,this.events=n,this.document=Ve(c),this.documentListeners=new Ke(this.document),this.listeners=new Ke(r),this.windowListeners=new Ke(G(c)),this.initialCoordinates=(s=Vt(i))!=null?s:se,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ne.Resize,this.handleCancel),this.windowListeners.add(ne.DragStart,_n),this.windowListeners.add(ne.VisibilityChange,this.handleCancel),this.windowListeners.add(ne.ContextMenu,_n),this.documentListeners.add(ne.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(kn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Dn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ne.Click,Eo,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ne.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:c,options:{activationConstraint:l}}=i;if(!s)return;const d=(n=Vt(t))!=null?n:se,u=ht(s,d);if(!r&&l){if(Dn(l)){if(l.tolerance!=null&&zt(u,l.tolerance))return this.handleCancel();if(zt(u,l.distance))return this.handleStart()}if(kn(l)&&zt(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),c(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===R.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _o={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class tr extends nn{constructor(t){const{event:n}=t,r=Ve(n.target);super(t,_o,r)}}tr.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Do={move:{name:"mousemove"},end:{name:"mouseup"}};var Ut;(function(e){e[e.RightClick=2]="RightClick"})(Ut||(Ut={}));class ko extends nn{constructor(t){super(t,Do,Ve(t.event.target))}}ko.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Ut.RightClick?!1:(r==null||r({event:n}),!0)}}];const Pt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class To extends nn{constructor(t){super(t,Pt)}static setup(){return window.addEventListener(Pt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Pt.move.name,t)};function t(){}}}To.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Ge;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ge||(Ge={}));var pt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(pt||(pt={}));function Mo(e){let{acceleration:t,activator:n=Ge.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:c=5,order:l=pt.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:g}=e;const b=Ao({delta:h,disabled:!i}),[x,v]=Ur(),m=a.useRef({x:0,y:0}),p=a.useRef({x:0,y:0}),C=a.useMemo(()=>{switch(n){case Ge.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Ge.DraggableRect:return s}},[n,s,d]),y=a.useRef(null),k=a.useCallback(()=>{const D=y.current;if(!D)return;const _=m.current.x*p.current.x,S=m.current.y*p.current.y;D.scrollBy(_,S)},[]),E=a.useMemo(()=>l===pt.TreeOrder?[...u].reverse():u,[l,u]);a.useEffect(()=>{if(!i||!u.length||!C){v();return}for(const D of E){if((r==null?void 0:r(D))===!1)continue;const _=u.indexOf(D),S=f[_];if(!S)continue;const{direction:N,speed:O}=bo(D,S,C,t,g);for(const M of["x","y"])b[M][N[M]]||(O[M]=0,N[M]=0);if(O.x>0||O.y>0){v(),y.current=D,x(k,c),m.current=O,p.current=N;return}}m.current={x:0,y:0},p.current={x:0,y:0},v()},[t,k,r,v,i,c,JSON.stringify(C),JSON.stringify(b),x,u,E,f,JSON.stringify(g)])}const Ro={x:{[F.Backward]:!1,[F.Forward]:!1},y:{[F.Backward]:!1,[F.Forward]:!1}};function Ao(e){let{delta:t,disabled:n}=e;const r=Ft(t);return rt(s=>{if(n||!r||!s)return Ro;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[F.Backward]:s.x[F.Backward]||i.x===-1,[F.Forward]:s.x[F.Forward]||i.x===1},y:{[F.Backward]:s.y[F.Backward]||i.y===-1,[F.Forward]:s.y[F.Forward]||i.y===1}}},[n,t,r])}function Oo(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return rt(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function $o(e,t){return a.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,r)}));return[...n,...i]},[]),[e,t])}var qe;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(qe||(qe={}));var Wt;(function(e){e.Optimized="optimized"})(Wt||(Wt={}));const Tn=new Map;function Lo(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,c]=a.useState(null),{frequency:l,measure:d,strategy:u}=s,f=a.useRef(e),h=m(),g=Je(h),b=a.useCallback(function(p){p===void 0&&(p=[]),!g.current&&c(C=>C===null?p:C.concat(p.filter(y=>!C.includes(y))))},[g]),x=a.useRef(null),v=rt(p=>{if(h&&!n)return Tn;if(!p||p===Tn||f.current!==e||i!=null){const C=new Map;for(let y of e){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){C.set(y.id,y.rect.current);continue}const k=y.node.current,E=k?new tn(d(k),k):null;y.rect.current=E,E&&C.set(y.id,E)}return C}return p},[e,i,n,h,d]);return a.useEffect(()=>{f.current=e},[e]),a.useEffect(()=>{h||b()},[n,h]),a.useEffect(()=>{i&&i.length>0&&c(null)},[JSON.stringify(i)]),a.useEffect(()=>{h||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{b(),x.current=null},l))},[l,h,b,...r]),{droppableRects:v,measureDroppableContainers:b,measuringScheduled:i!=null};function m(){switch(u){case qe.Always:return!1;case qe.BeforeDragging:return n;default:return!n}}}function nr(e,t){return rt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function zo(e,t){return nr(e,t)}function Po(e){let{callback:t,disabled:n}=e;const r=Qt(t),s=a.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return a.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function St(e){let{callback:t,disabled:n}=e;const r=Qt(t),s=a.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return a.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Io(e){return new tn(ot(e),e)}function Mn(e,t,n){t===void 0&&(t=Io);const[r,s]=a.useState(null);function i(){s(d=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=d??n)!=null?u:null}const f=t(e);return JSON.stringify(d)===JSON.stringify(f)?d:f})}const c=Po({callback(d){if(e)for(const u of d){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=St({callback:i});return Se(()=>{i(),e?(l==null||l.observe(e),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),c==null||c.disconnect())},[e]),r}function Bo(e){const t=nr(e);return Zn(e,t)}const Rn=[];function Fo(e){const t=a.useRef(e),n=rt(r=>e?r&&r!==Rn&&e&&t.current&&e.parentNode===t.current.parentNode?r:en(e):Rn,[e]);return a.useEffect(()=>{t.current=e},[e]),n}function Vo(e){const[t,n]=a.useState(null),r=a.useRef(e),s=a.useCallback(i=>{const c=Lt(i.target);c&&n(l=>l?(l.set(c,Ht(c)),new Map(l)):null)},[]);return a.useEffect(()=>{const i=r.current;if(e!==i){c(i);const l=e.map(d=>{const u=Lt(d);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Ht(u)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),r.current=e}return()=>{c(e),c(i)};function c(l){l.forEach(d=>{const u=Lt(d);u==null||u.removeEventListener("scroll",s)})}},[s,e]),a.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,c)=>Ie(i,c),se):qn(e):se,[e,t])}function An(e,t){t===void 0&&(t=[]);const n=a.useRef(null);return a.useEffect(()=>{n.current=null},t),a.useEffect(()=>{const r=e!==se;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ht(e,n.current):se}function Ho(e){a.useEffect(()=>{if(!Ct)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Uo(e,t){return a.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=c=>{i(c,t)},n},{}),[e,t])}function rr(e){return a.useMemo(()=>e?mo(e):null,[e])}const On=[];function Wo(e,t){t===void 0&&(t=ot);const[n]=e,r=rr(n?G(n):null),[s,i]=a.useState(On);function c(){i(()=>e.length?e.map(d=>Yn(d)?r:new tn(t(d),d)):On)}const l=St({callback:c});return Se(()=>{l==null||l.disconnect(),c(),e.forEach(d=>l==null?void 0:l.observe(d))},[e]),s}function Zo(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return nt(t)?t:e}function Xo(e){let{measure:t}=e;const[n,r]=a.useState(null),s=a.useCallback(u=>{for(const{target:f}of u)if(nt(f)){r(h=>{const g=t(f);return h?{...h,width:g.width,height:g.height}:g});break}},[t]),i=St({callback:s}),c=a.useCallback(u=>{const f=Zo(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),r(f?t(f):null)},[t,i]),[l,d]=ft(c);return a.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const Ko=[{sensor:tr,options:{}},{sensor:er,options:{}}],Go={current:{}},dt={draggable:{measure:Nn},droppable:{measure:Nn,strategy:qe.WhileDragging,frequency:Wt.Optimized},dragOverlay:{measure:ot}};class Ye extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Yo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ye,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dt,measureDroppableContainers:mt,windowRect:null,measuringScheduled:!1},Jo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mt,draggableNodes:new Map,over:null,measureDroppableContainers:mt},Et=a.createContext(Jo),qo=a.createContext(Yo);function Qo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ye}}}function es(e,t){switch(t.type){case B.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case B.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case B.DragEnd:case B.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case B.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Ye(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case B.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const c=new Ye(e.droppable.containers);return c.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:c}}}case B.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Ye(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function ts(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=a.useContext(Et),i=Ft(r),c=Ft(n==null?void 0:n.id);return a.useEffect(()=>{if(!t&&!r&&i&&c!=null){if(!Un(i)||document.activeElement===i.target)return;const l=s.get(c);if(!l)return;const{activatorNode:d,node:u}=l;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[d.current,u.current]){if(!f)continue;const h=Xr(f);if(h){h.focus();break}}})}},[r,t,s,c,i]),null}function ns(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function rs(e){return a.useMemo(()=>({draggable:{...dt.draggable,...e==null?void 0:e.draggable},droppable:{...dt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...dt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function os(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=a.useRef(!1),{x:c,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Se(()=>{if(!c&&!l||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),h=Zn(f,r);if(c||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const g=Xn(u);g&&g.scrollBy({top:h.y,left:h.x})}},[t,c,l,r,n])}const or=a.createContext({...se,scaleX:1,scaleY:1});var Ce;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ce||(Ce={}));const ss=a.memo(function(t){var n,r,s,i;let{id:c,accessibility:l,autoScroll:d=!0,children:u,sensors:f=Ko,collisionDetection:h=io,measuring:g,modifiers:b,...x}=t;const v=a.useReducer(es,void 0,Qo),[m,p]=v,[C,y]=Qr(),[k,E]=a.useState(Ce.Uninitialized),D=k===Ce.Initialized,{draggable:{active:_,nodes:S,translate:N},droppable:{containers:O}}=m,M=_!=null?S.get(_):null,I=a.useRef({initial:null,translated:null}),L=a.useMemo(()=>{var W;return _!=null?{id:_,data:(W=M==null?void 0:M.data)!=null?W:Go,rect:I}:null},[_,M]),A=a.useRef(null),[ie,ee]=a.useState(null),[T,z]=a.useState(null),K=Je(x,Object.values(x)),me=jt("DndDescribedBy",c),pe=a.useMemo(()=>O.getEnabled(),[O]),Y=rs(g),{droppableRects:P,measureDroppableContainers:V,measuringScheduled:re}=Lo(pe,{dragging:D,dependencies:[N.x,N.y],config:Y.droppable}),X=Oo(S,_),cn=a.useMemo(()=>T?Vt(T):null,[T]),dn=vr(),un=zo(X,Y.draggable.measure);os({activeNode:_!=null?S.get(_):null,config:dn.layoutShiftCompensation,initialRect:un,measure:Y.draggable.measure});const oe=Mn(X,Y.draggable.measure,un),Dt=Mn(X?X.parentElement:null),_e=a.useRef({activatorEvent:null,active:null,activeNode:X,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fn=O.getNodeFor((n=_e.current.over)==null?void 0:n.id),De=Xo({measure:Y.dragOverlay.measure}),st=(r=De.nodeRef.current)!=null?r:X,Ae=D?(s=De.rect)!=null?s:oe:null,hn=!!(De.nodeRef.current&&De.rect),mn=Bo(hn?null:oe),kt=rr(st?G(st):null),ge=Fo(D?fn??X:null),it=Wo(ge),at=ns(b,{transform:{x:N.x-mn.x,y:N.y-mn.y,scaleX:1,scaleY:1},activatorEvent:T,active:L,activeNodeRect:oe,containerNodeRect:Dt,draggingNodeRect:Ae,over:_e.current.over,overlayNodeRect:De.rect,scrollableAncestors:ge,scrollableAncestorRects:it,windowRect:kt}),pn=cn?Ie(cn,N):null,gn=Vo(ge),dr=An(gn),ur=An(gn,[oe]),Oe=Ie(at,dr),$e=Ae?co(Ae,at):null,He=L&&$e?h({active:L,collisionRect:$e,droppableRects:P,droppableContainers:pe,pointerCoordinates:pn}):null,vn=oo(He,"id"),[ve,bn]=a.useState(null),fr=hn?at:Ie(at,ur),hr=ao(fr,(i=ve==null?void 0:ve.rect)!=null?i:null,oe),Tt=a.useRef(null),yn=a.useCallback((W,J)=>{let{sensor:q,options:be}=J;if(A.current==null)return;const te=S.get(A.current);if(!te)return;const Q=W.nativeEvent,ae=new q({active:A.current,activeNode:te,event:Q,options:be,context:_e,onAbort(H){if(!S.get(H))return;const{onDragAbort:le}=K.current,de={id:H};le==null||le(de),C({type:"onDragAbort",event:de})},onPending(H,ye,le,de){if(!S.get(H))return;const{onDragPending:We}=K.current,xe={id:H,constraint:ye,initialCoordinates:le,offset:de};We==null||We(xe),C({type:"onDragPending",event:xe})},onStart(H){const ye=A.current;if(ye==null)return;const le=S.get(ye);if(!le)return;const{onDragStart:de}=K.current,Ue={activatorEvent:Q,active:{id:ye,data:le.data,rect:I}};Pe.unstable_batchedUpdates(()=>{de==null||de(Ue),E(Ce.Initializing),p({type:B.DragStart,initialCoordinates:H,active:ye}),C({type:"onDragStart",event:Ue}),ee(Tt.current),z(Q)})},onMove(H){p({type:B.DragMove,coordinates:H})},onEnd:Le(B.DragEnd),onCancel:Le(B.DragCancel)});Tt.current=ae;function Le(H){return async function(){const{active:le,collisions:de,over:Ue,scrollAdjustedTranslate:We}=_e.current;let xe=null;if(le&&We){const{cancelDrop:Ze}=K.current;xe={activatorEvent:Q,active:le,collisions:de,delta:We,over:Ue},H===B.DragEnd&&typeof Ze=="function"&&await Promise.resolve(Ze(xe))&&(H=B.DragCancel)}A.current=null,Pe.unstable_batchedUpdates(()=>{p({type:H}),E(Ce.Uninitialized),bn(null),ee(null),z(null),Tt.current=null;const Ze=H===B.DragEnd?"onDragEnd":"onDragCancel";if(xe){const Mt=K.current[Ze];Mt==null||Mt(xe),C({type:Ze,event:xe})}})}}},[S]),mr=a.useCallback((W,J)=>(q,be)=>{const te=q.nativeEvent,Q=S.get(be);if(A.current!==null||!Q||te.dndKit||te.defaultPrevented)return;const ae={active:Q};W(q,J.options,ae)===!0&&(te.dndKit={capturedBy:J.sensor},A.current=be,yn(q,J))},[S,yn]),xn=$o(f,mr);Ho(f),Se(()=>{oe&&k===Ce.Initializing&&E(Ce.Initialized)},[oe,k]),a.useEffect(()=>{const{onDragMove:W}=K.current,{active:J,activatorEvent:q,collisions:be,over:te}=_e.current;if(!J||!q)return;const Q={active:J,activatorEvent:q,collisions:be,delta:{x:Oe.x,y:Oe.y},over:te};Pe.unstable_batchedUpdates(()=>{W==null||W(Q),C({type:"onDragMove",event:Q})})},[Oe.x,Oe.y]),a.useEffect(()=>{const{active:W,activatorEvent:J,collisions:q,droppableContainers:be,scrollAdjustedTranslate:te}=_e.current;if(!W||A.current==null||!J||!te)return;const{onDragOver:Q}=K.current,ae=be.get(vn),Le=ae&&ae.rect.current?{id:ae.id,rect:ae.rect.current,data:ae.data,disabled:ae.disabled}:null,H={active:W,activatorEvent:J,collisions:q,delta:{x:te.x,y:te.y},over:Le};Pe.unstable_batchedUpdates(()=>{bn(Le),Q==null||Q(H),C({type:"onDragOver",event:H})})},[vn]),Se(()=>{_e.current={activatorEvent:T,active:L,activeNode:X,collisionRect:$e,collisions:He,droppableRects:P,draggableNodes:S,draggingNode:st,draggingNodeRect:Ae,droppableContainers:O,over:ve,scrollableAncestors:ge,scrollAdjustedTranslate:Oe},I.current={initial:Ae,translated:$e}},[L,X,He,$e,S,st,Ae,P,O,ve,ge,Oe]),Mo({...dn,delta:N,draggingRect:$e,pointerCoordinates:pn,scrollableAncestors:ge,scrollableAncestorRects:it});const pr=a.useMemo(()=>({active:L,activeNode:X,activeNodeRect:oe,activatorEvent:T,collisions:He,containerNodeRect:Dt,dragOverlay:De,draggableNodes:S,droppableContainers:O,droppableRects:P,over:ve,measureDroppableContainers:V,scrollableAncestors:ge,scrollableAncestorRects:it,measuringConfiguration:Y,measuringScheduled:re,windowRect:kt}),[L,X,oe,T,He,Dt,De,S,O,P,ve,V,ge,it,Y,re,kt]),gr=a.useMemo(()=>({activatorEvent:T,activators:xn,active:L,activeNodeRect:oe,ariaDescribedById:{draggable:me},dispatch:p,draggableNodes:S,over:ve,measureDroppableContainers:V}),[T,xn,L,oe,p,me,S,ve,V]);return j.createElement(Wn.Provider,{value:y},j.createElement(Et.Provider,{value:gr},j.createElement(qo.Provider,{value:pr},j.createElement(or.Provider,{value:hr},u)),j.createElement(ts,{disabled:(l==null?void 0:l.restoreFocus)===!1})),j.createElement(no,{...l,hiddenTextDescribedById:me}));function vr(){const W=(ie==null?void 0:ie.autoScrollEnabled)===!1,J=typeof d=="object"?d.enabled===!1:d===!1,q=D&&!W&&!J;return typeof d=="object"?{...d,enabled:q}:{enabled:q}}}),is=a.createContext(null),$n="button",as="Draggable";function ls(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=jt(as),{activators:c,activatorEvent:l,active:d,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:g}=a.useContext(Et),{role:b=$n,roleDescription:x="draggable",tabIndex:v=0}=s??{},m=(d==null?void 0:d.id)===t,p=a.useContext(m?or:is),[C,y]=ft(),[k,E]=ft(),D=Uo(c,t),_=Je(n);Se(()=>(h.set(t,{id:t,key:i,node:C,activatorNode:k,data:_}),()=>{const N=h.get(t);N&&N.key===i&&h.delete(t)}),[h,t]);const S=a.useMemo(()=>({role:b,tabIndex:v,"aria-disabled":r,"aria-pressed":m&&b===$n?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[r,b,v,m,x,f.draggable]);return{active:d,activatorEvent:l,activeNodeRect:u,attributes:S,isDragging:m,listeners:r?void 0:D,node:C,over:g,setNodeRef:y,setActivatorNodeRef:E,transform:p}}const cs="Droppable",ds={timeout:25};function us(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=jt(cs),{active:c,dispatch:l,over:d,measureDroppableContainers:u}=a.useContext(Et),f=a.useRef({disabled:n}),h=a.useRef(!1),g=a.useRef(null),b=a.useRef(null),{disabled:x,updateMeasurementsFor:v,timeout:m}={...ds,...s},p=Je(v??r),C=a.useCallback(()=>{if(!h.current){h.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),b.current=null},m)},[m]),y=St({callback:C,disabled:x||!c}),k=a.useCallback((S,N)=>{y&&(N&&(y.unobserve(N),h.current=!1),S&&y.observe(S))},[y]),[E,D]=ft(k),_=Je(t);return a.useEffect(()=>{!y||!E.current||(y.disconnect(),h.current=!1,y.observe(E.current))},[E,y]),a.useEffect(()=>(l({type:B.RegisterDroppable,element:{id:r,key:i,disabled:n,node:E,rect:g,data:_}}),()=>l({type:B.UnregisterDroppable,key:i,id:r})),[r]),a.useEffect(()=>{n!==f.current.disabled&&(l({type:B.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,l]),{active:c,rect:g,isOver:(d==null?void 0:d.id)===r,node:E,over:d,setNodeRef:D}}const fs="_kanban_card_nddqf_1",hs={kanban_card:fs},fe="http://54.165.249.157/api",he=localStorage.getItem("token"),sr=localStorage.getItem("language")||"en",It=async e=>{try{return await(await fetch(`${fe}/task/${e}`,{headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}})).json()}catch(t){return{error:t.message||"Something went wrong"}}},ms=async e=>{try{return await(await fetch(`${fe}/newTask`,{method:"POST",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(t){return{error:t.message||"Something went wrong"}}},ps=async(e,t)=>{try{return await(await fetch(`${fe}/updateTask/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(n){return{error:n.message||"Something went wrong"}}},gs=async(e,t)=>{try{return await(await fetch(`${fe}/deleteTask/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(n){return{error:n.message||"Something went wrong"}}},vs=async e=>{try{return await(await fetch(`${fe}/subtask/${e}`,{method:"GET",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}})).json()}catch(t){return{error:t.message||"Something went wrong"}}},bs=async(e,t)=>{try{return await(await fetch(`${fe}/addSubtask/${e}`,{method:"POST",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(n){return{error:n.message||"Something went wrong"}}},ys=async e=>{try{return await(await fetch(`${fe}/deleteSubtask/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}})).json()}catch(t){return{error:t.message||"Something went wrong"}}},xs=async(e,t)=>{try{return await(await fetch(`${fe}/changeTaskStatus/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json","X-Language":sr},body:JSON.stringify({status:t})})).json()}catch(n){return{error:n.message||"Something went wrong"}}},ws=async(e,t)=>{try{return await(await fetch(`${fe}/changeAssignee/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json","X-Language":sr},body:JSON.stringify({email:t})})).json()}catch(n){return{error:n.message||"Something went wrong"}}},Cs="_modal_header_1w3jl_1",js="_title_input_1w3jl_6",Ss="_modal_body_1w3jl_13",Es="_input_section_1w3jl_17",Ns="_description_div_1w3jl_20",_s="_task_description_area_1w3jl_27",Ds="_comments_div_1w3jl_33",ks="_options_section_1w3jl_40",Ts="_task_option_div_1w3jl_43",Ms="_subtask_input_1w3jl_53",Rs="_user_icon_1w3jl_70",Z={modal_header:Cs,title_input:js,modal_body:Ss,input_section:Es,description_div:Ns,task_description_area:_s,comments_div:Ds,options_section:ks,task_option_div:Ts,subtask_input:Ms,user_icon:Rs};var ir={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ln=j.createContext&&j.createContext(ir),As=["attr","size","title"];function Os(e,t){if(e==null)return{};var n=$s(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $s(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zn(Object(n),!0).forEach(function(r){Ls(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ls(e,t,n){return t=zs(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zs(e){var t=Ps(e,"string");return typeof t=="symbol"?t:t+""}function Ps(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e){return e&&e.map((t,n)=>j.createElement(t.tag,vt({key:n},t.attr),ar(t.child)))}function rn(e){return t=>j.createElement(Is,gt({attr:vt({},e.attr)},t),ar(e.child))}function Is(e){var t=n=>{var{attr:r,size:s,title:i}=e,c=Os(e,As),l=s||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),j.createElement("svg",gt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:d,style:vt(vt({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&j.createElement("title",null,i),e.children)};return Ln!==void 0?j.createElement(Ln.Consumer,null,n=>t(n)):t(ir)}function bt(e){return rn({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#F44336",d:"M21.2,44.8l-18-18c-1.6-1.6-1.6-4.1,0-5.7l18-18c1.6-1.6,4.1-1.6,5.7,0l18,18c1.6,1.6,1.6,4.1,0,5.7l-18,18 C25.3,46.4,22.7,46.4,21.2,44.8z"},child:[]},{tag:"path",attr:{fill:"#fff",d:"M21.6,32.7c0-0.3,0.1-0.6,0.2-0.9c0.1-0.3,0.3-0.5,0.5-0.7c0.2-0.2,0.5-0.4,0.8-0.5s0.6-0.2,1-0.2 s0.7,0.1,1,0.2c0.3,0.1,0.6,0.3,0.8,0.5c0.2,0.2,0.4,0.4,0.5,0.7c0.1,0.3,0.2,0.6,0.2,0.9s-0.1,0.6-0.2,0.9s-0.3,0.5-0.5,0.7 c-0.2,0.2-0.5,0.4-0.8,0.5c-0.3,0.1-0.6,0.2-1,0.2s-0.7-0.1-1-0.2s-0.5-0.3-0.8-0.5c-0.2-0.2-0.4-0.4-0.5-0.7S21.6,33.1,21.6,32.7z M25.8,28.1h-3.6L21.7,13h4.6L25.8,28.1z"},child:[]}]})(e)}function Qe(e){return rn({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#4CAF50",d:"M21.2,44.8l-18-18c-1.6-1.6-1.6-4.1,0-5.7l18-18c1.6-1.6,4.1-1.6,5.7,0l18,18c1.6,1.6,1.6,4.1,0,5.7l-18,18 C25.3,46.4,22.7,46.4,21.2,44.8z"},child:[]},{tag:"g",attr:{fill:"#FFEB3B"},child:[{tag:"polygon",attr:{points:"24,33.4 17,25 31,25"},child:[]},{tag:"rect",attr:{x:"22",y:"14.8",width:"4",height:"12.3"},child:[]}]}]})(e)}function yt(e){return rn({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M21.2,44.8l-18-18c-1.6-1.6-1.6-4.1,0-5.7l18-18c1.6-1.6,4.1-1.6,5.7,0l18,18c1.6,1.6,1.6,4.1,0,5.7l-18,18 C25.3,46.4,22.7,46.4,21.2,44.8z"},child:[]},{tag:"g",attr:{fill:"#37474F"},child:[{tag:"circle",attr:{cx:"24",cy:"24",r:"2"},child:[]},{tag:"circle",attr:{cx:"32",cy:"24",r:"2"},child:[]},{tag:"circle",attr:{cx:"16",cy:"24",r:"2"},child:[]}]}]})(e)}const Bs=({fullTask:e})=>{const{t}=ce(),[n,r]=a.useState(null),[s,i]=a.useState(!1),[c,l]=a.useState({title:""}),[d,u]=a.useState([]),[f,h]=a.useState(null),g=async()=>{try{const m=await vs(e.id);m.error?h(m.error):u(m)}catch(m){console.log("Error al obtener las subtareas"),console.error(m)}};a.useEffect(()=>{g()},[e.id]);const b=m=>{const{name:p,value:C}=m.target;l(y=>({...y,[p]:C}))},x=async m=>{if(m.preventDefault(),c.title.trim()===""){h(t("modal:nonEmptyError"));return}console.log(c);const p=await bs(e.id,c);p.error?h(p.error):(l({title:""}),i(!1),g())},v=async m=>{const p=ys(m);p.error?h(p.error):g()};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`${Z.description_div} d-flex align-items-center gap-2 mb-3`,children:[o.jsx($,{icon:Fr,size:"xl"}),o.jsx("span",{children:t("modal:subtasks")})]}),o.jsxs("div",{className:"mb-3 w-50",children:[d&&d.length>0?o.jsx("ul",{children:d.map((m,p)=>o.jsxs("li",{onMouseEnter:()=>r(p),onMouseLeave:()=>r(null),className:Z.subtask_item,style:{color:"lightgray",cursor:"pointer"},children:[m.title,n===p&&o.jsx($,{icon:tt,size:"sm",style:{cursor:"pointer",marginLeft:"10px",color:"red"},onClick:()=>v(m.id)})]},p))}):o.jsx("p",{style:{color:"lightgray",fontSize:"14px"},className:"ms-3",children:t("modal:noSubtasks")}),s?o.jsxs("div",{className:"d-flex flex-row align-items-center gap-2",children:[o.jsx(Te,{className:Z.subtask_input,name:"title",value:c.title,onChange:b}),o.jsx($,{icon:zr,size:"xxl",className:"mt-2",onClick:x}),o.jsx($,{icon:Hr,size:"xxl",className:"mt-2",onClick:()=>{i(!1),l({title:""}),h(null)}})]}):o.jsxs("div",{className:"d-flex gap-2 align-items-center",style:{cursor:"pointer"},onClick:()=>i(!0),children:[o.jsx($,{icon:wt}),o.jsx("span",{style:{color:"lightgray"},children:t("modal:addSubtask")})]}),f&&o.jsx("div",{className:"text-danger mt-2",children:f})]})]})},on="http://54.165.249.157/api",sn=localStorage.getItem("token"),Fs=async e=>{try{return await(await fetch(`${on}/comments/${e}`,{headers:{Authorization:`Bearer ${sn}`,"Content-Type":"application/json"}})).json()}catch(t){return{error:t.message||"Something went wrong"}}},Vs=async(e,t)=>{try{return await(await fetch(`${on}/newComments/${e}`,{headers:{Authorization:`Bearer ${sn}`,"Content-Type":"application/json"},body:JSON.stringify({content:t}),method:"POST"})).json()}catch(n){return{error:n.message||"Something went wrong"}}},Hs=async e=>{try{return await(await fetch(`${on}/deleteComment/${e}`,{headers:{Authorization:`Bearer ${sn}`,"Content-Type":"application/json"},method:"DELETE"})).json()}catch(t){return{error:t.message||"Something went wrong"}}},Us=({fullTask:e})=>{const[t,n]=a.useState([]),[r,s]=a.useState(""),[i,c]=a.useState(!1),{t:l}=ce(),[d,u]=a.useState(null),f=async()=>{if(e!=null&&e.id){const p=await Fs(e.id);n(p)}};a.useEffect(()=>{f()},[e]);const h=p=>{s(p.target.value)},g=async p=>{if(p.key==="Enter"&&r.trim()&&(e!=null&&e.id)){p.preventDefault(),c(!0);const C=await Vs(e.id,r.trim());C.error?u("Error al añadir comentario:",C.error):(s(""),await f()),c(!1)}},[b,x]=a.useState(!1),[v,m]=a.useState(null);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`${Z.comments_div} d-flex align-items-center gap-2 mb-3`,children:[o.jsx($,{icon:Vr,size:"xl"}),o.jsx("span",{children:l("modal:comments")})]}),o.jsxs("div",{className:"d-flex align-items-center gap-3",children:[o.jsx("div",{className:Z.user_icon,children:"@"}),o.jsx(Te,{className:Z.task_description_area,value:r,onChange:h,onKeyDown:g,disabled:i,placeholder:l("modal:writeComment")})]}),o.jsx("div",{className:"mt-3",children:t.map((p,C)=>o.jsxs("div",{className:"mb-4 d-flex flex-row align-items-center",children:[o.jsx("div",{children:o.jsx($,{icon:Zt,size:"xl"})}),o.jsx("div",{className:"ms-3",children:o.jsxs("div",{className:"d-flex flex-column",style:{cursor:"pointer"},children:[o.jsxs("div",{className:"d-flex flex-row align-items-center gap-2",children:[o.jsx("span",{style:{color:"gray",fontSize:"14px"},children:p.user}),o.jsx("span",{style:{color:"gray",fontSize:"14px"},children:Ws(p.created_at.date)})]}),o.jsx("span",{children:p.content}),o.jsx($,{icon:tt,className:"mt-1",style:{cursor:"pointer",color:"gray"},onClick:()=>{m(p.id),x(!0)}})]})})]},C))}),o.jsxs(Ee,{visible:b,onClose:()=>x(!1),children:[o.jsx(Ne,{children:l("modal:deleteComment")}),o.jsxs(xt,{children:[o.jsx(ue,{color:"secondary",onClick:()=>x(!1),children:l("modal:cancel")}),o.jsx(ue,{color:"danger",onClick:async()=>{if(v){const p=await Hs(v);p.error?u("Error al eliminar comentario:",p.error):await f()}x(!1),m(null)},children:l("modal:delete")})]})]})]})},Ws=e=>{const t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getFullYear()).slice(-2),i=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${n}/${r}/${s} ${i}:${c}`},Zs=({visible:e,setVisible:t,task:n,refreshBoards:r})=>{const{t:s}=ce(),[i,c]=a.useState(null),[l,d]=a.useState(null),[u,f]=a.useState(""),[h,g]=a.useState(""),[b,x]=a.useState(!1),[v,m]=a.useState(!1),[p,C]=a.useState(null);a.useEffect(()=>{n!=null&&n.id&&(async()=>{const z=await It(n.id);z.error?C(z.error):(c(z),d(z),f(z.title),g(z.description))})()},[n==null?void 0:n.id]);const[y,k]=a.useState(!1),E=()=>{k(!0)},D=()=>{u.trim()===""?(f((l==null?void 0:l.title)||""),C("El título no puede estar vacío.")):(k(!1),c(T=>({...T,title:u})))},_=T=>{f(T.target.value)},[S,N]=a.useState(!1),O=()=>{N(!0)},M=()=>{N(!1),c(T=>({...T,description:h}))},I=T=>{g(T.target.value)},L=T=>{c(z=>({...z,priority:T}))},A=()=>{c(l),f(l==null?void 0:l.title),g(l==null?void 0:l.description),t(!1),C(null)},ie=async T=>{T.preventDefault();const z=await ps(i,i.id);if(z.error){C(z.error);return}else{const K=await It(i.id);d(K),t(!1),r(),C(null)}},ee=async()=>{const T=await gs(i,i.id);T.error?console.log(T.error):(t(!1),r())};return o.jsx(Ee,{alignment:"center",visible:e,onClose:A,size:"lg",children:i?o.jsxs(o.Fragment,{children:[o.jsx(Me,{className:`${Z.modal_header}`,children:o.jsx(Re,{children:y?o.jsx(Te,{type:"text",autoFocus:!0,className:Z.title_input,onBlur:D,onChange:_,value:u}):o.jsxs("div",{className:"d-flex flex-row gap-3 align-items-center",children:[o.jsx("span",{onClick:E,style:{fontWeight:"bold"},children:u}),o.jsxs(_r,{children:[o.jsxs(Dr,{color:"secondary",style:{backgroundColor:"transparent",border:"none"},children:[i.priority==="1"&&o.jsx(Qe,{}),i.priority==="2"&&o.jsx(yt,{}),i.priority==="3"&&o.jsx(bt,{})]}),o.jsxs(kr,{style:{backgroundColor:"#313940"},children:[o.jsxs(Rt,{style:{color:"white"},onClick:()=>L("1"),children:[o.jsx(Qe,{})," ",s("modal:low")]}),o.jsxs(Rt,{style:{color:"white"},onClick:()=>L("2"),children:[o.jsx(yt,{})," ",s("modal:medium")]}),o.jsxs(Rt,{style:{color:"white"},onClick:()=>L("3"),children:[o.jsx(bt,{})," ",s("modal:high")]})]})]})]})})}),o.jsxs(Ne,{className:`d-flex flex-row ${Z.modal_body}`,children:[o.jsxs("section",{className:Z.input_section,children:[o.jsxs("div",{className:`${Z.description_div} d-flex align-items-center gap-2 mb-3`,children:[o.jsx($,{icon:Pr,size:"xl"}),o.jsx("span",{children:s("modal:description")})]}),o.jsx("div",{className:"mb-3",children:S?o.jsx(et,{className:Z.task_description_area,value:h,onBlur:M,onChange:I}):o.jsx("span",{onClick:O,style:{color:h?"lightgray":"gray"},children:h||s("modal:noDescription")})}),o.jsxs("div",{children:[o.jsx(Bs,{fullTask:i}),o.jsx(Us,{fullTask:i})]})]}),o.jsxs("section",{className:`d-flex flex-column align-items-end gap-2 ${Z.options_section}`,children:[o.jsxs("div",{className:`w-75 d-flex align-items-center gap-2 ${Z.task_option_div}`,onClick:()=>m(!0),children:[o.jsx("span",{children:s("modal:assign")}),o.jsx($,{icon:Zt})]}),o.jsxs("div",{className:`w-75 d-flex align-items-center gap-2 ${Z.task_option_div}`,children:[o.jsx("span",{onClick:ie,children:s("modal:save")}),o.jsx($,{icon:Fn})]}),o.jsxs("div",{className:`w-75 d-flex align-items-center gap-2 ${Z.task_option_div}`,onClick:()=>x(!0),children:[o.jsx("span",{children:s("modal:delete")}),o.jsx($,{icon:tt})]}),o.jsx("div",{className:"d-flex flex-column w-75",children:i.asigned_to?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:s("modal:assigned")}),o.jsx("span",{style:{fontStyle:"italic",color:"lightgray"},children:i.asigned_to})]}):o.jsx(o.Fragment,{children:o.jsx("span",{style:{color:"lightgray"},children:s("modal:noAssigned")})})})]})]}),b&&o.jsx(Xs,{visible:b,setVisible:x,onConfirm:ee}),v&&o.jsx(Ks,{visible:v,setVisible:m,taskId:i.id,onAssigned:async()=>{const T=await It(i.id);c(T),d(T)}})]}):o.jsxs("div",{children:[o.jsx(xr,{}),s("modal:loading")]})})},Xs=({visible:e,setVisible:t,onConfirm:n})=>{const r=()=>{t(!1)},s=()=>{n(),t(!1)};return o.jsxs(Ee,{alignment:"center",visible:e,onClose:r,children:[o.jsx(Me,{children:o.jsx(Re,{children:"Confirmación de Borrado"})}),o.jsxs(Ne,{children:[o.jsx("p",{children:"¿Estás seguro de que deseas borrar esta tarea? Esta acción no se puede deshacer."}),o.jsxs("div",{className:"d-flex justify-content-end gap-3",children:[o.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Cancelar"}),o.jsx("button",{className:"btn btn-danger",onClick:s,children:"Borrar"})]})]})]})},Ks=({visible:e,setVisible:t,taskId:n,onAssigned:r})=>{const[s,i]=a.useState(""),c=()=>{t(!1),i("")},l=async()=>{const d=await ws(n,s);d.error?alert(d.error):(r(),c())};return o.jsxs(Ee,{alignment:"center",visible:e,onClose:c,children:[o.jsx(Me,{children:o.jsx(Re,{children:"Asignar tarea a un usuario"})}),o.jsxs(Ne,{children:[o.jsx(Te,{type:"email",placeholder:"Ingresa el email del usuario",value:s,onChange:d=>i(d.target.value)}),o.jsxs("div",{className:"d-flex justify-content-end gap-3 mt-3",children:[o.jsx("button",{className:"btn btn-secondary",onClick:c,children:"Cancelar"}),o.jsx("button",{className:"btn btn-primary",onClick:l,children:"Asignar"})]})]})]})},Gs=({id:e,column:t,task:n,refreshBoards:r})=>{const{attributes:s,listeners:i,setNodeRef:c,transform:l,isDragging:d}=ls({id:e,data:{column:t,task:n}}),[u,f]=a.useState(null),[h,g]=a.useState(!1),b=()=>{const p=setTimeout(()=>{f(null)},200);f(p)},x=()=>{u&&(clearTimeout(u),f(null),g(!0))},v=new Date(n.created_at.date).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),m={transform:l?`translate3d(${l.x}px, ${l.y}px, 0) rotate(${d?"5deg":"0deg"})`:void 0,opacity:d?.5:1,cursor:d?"grabbing":"pointer"};return o.jsxs(o.Fragment,{children:[o.jsx(Zs,{visible:h,setVisible:g,task:n,refreshBoards:r}),o.jsxs("div",{ref:c,className:hs.kanban_card,style:m,...i,...s,onMouseDown:b,onMouseUp:x,children:[o.jsx("h4",{children:n.title}),o.jsx("p",{children:n.description||o.jsx("span",{style:{color:"grey"},children:"Sin descripción"})}),o.jsxs("div",{className:"d-flex flex-row align-items-center justify-content-between",children:[o.jsxs("div",{className:"d-flex flex-row align-items-center",children:[o.jsx($,{icon:Lr,size:"lg"}),o.jsx("span",{className:"ms-2",children:v})]}),n.priority==="1"&&o.jsx(Qe,{}),n.priority==="2"&&o.jsx(yt,{}),n.priority==="3"&&o.jsx(bt,{})]})]})]})},Ys="_column_div_g8kfo_1",Js={column_div:Ys},qs=({id:e,tasks:t,refreshBoards:n})=>{const{setNodeRef:r}=us({id:e});return o.jsxs("div",{ref:r,className:Js.column_div,children:[o.jsx("h3",{children:e.toUpperCase()}),t.map(s=>o.jsx(Gs,{id:s.title,column:e,task:s,refreshBoards:n},s.title))]})},Nt="http://54.165.249.157/api",_t=localStorage.getItem("token"),Qs=async()=>{try{return{data:await(await fetch(`${Nt}/alltables`,{method:"GET",headers:{Authorization:`Bearer ${_t}`,"Content-Type":"application/json"}})).json()}}catch(e){return{error:e.message||"Something went wrong"}}},ei=async e=>{try{return await(await fetch(`${Nt}/newTable`,{method:"POST",headers:{Authorization:`Bearer ${_t}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(t){return{error:t.message||"Something went wrong"}}},ti=async(e,t)=>{try{return await(await fetch(`${Nt}/updateTable/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${_t}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(n){return{error:n.message||"Something went wrong"}}},ni=async e=>{try{return await(await fetch(`${Nt}/deleteTable/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${_t}`,"Content-Type":"application/json"}})).json()}catch(t){return{error:t.message||"Something went wrong"}}},ri="_modal_header_xcc8n_1",oi="_modal_body_xcc8n_7",si="_table_input_xcc8n_11",ii="_modal_text_xcc8n_17",ai="_modal_footer_xcc8n_22",ke={modal_header:ri,modal_body:oi,table_input:si,modal_text:ii,modal_footer:ai},lr=({visible:e,setVisible:t,board:n,mode:r,refreshBoards:s})=>{const{t:i}=ce(),[c,l]=a.useState(null),[d,u]=a.useState(!1),[f,h]=a.useState({name:n?n.name:"",description:n?n.description:""});j.useEffect(()=>{n&&h({name:n.name,description:n.description})},[n]);const g=m=>{const{name:p,value:C}=m.target;h(y=>({...y,[p]:C}))},b=async m=>{if(m.preventDefault(),f.name.trim()===""){l("El nombre del tablero no puede estar en blanco");return}const p=await ei(f);if(p.error){l(p.error);return}else s(),t(!1)},x=async m=>{if(m.preventDefault(),f.name.trim()===""){l("El nombre del tablero no puede estar en blanco");return}const p=await ti(f,n.id);if(p.error){l(p.error);return}else s(),t(!1)},v=async()=>{const m=await ni(n.id);if(m.error){l(m.error);return}else s(),u(!1),t(!1)};return o.jsxs(o.Fragment,{children:[o.jsxs(Ee,{alignment:"center",visible:e,onClose:()=>t(!1),children:[o.jsx(Me,{className:ke.modal_header,children:o.jsx(Re,{children:i(r==="add"?"modal:addTable":"modal:editTable")})}),o.jsx(Ne,{className:ke.modal_body,children:o.jsxs(Bn,{children:[o.jsx("span",{className:ke.modal_text,children:i("modal:title")}),o.jsx(Xe,{className:"mb-3",children:o.jsx(Te,{name:"name",value:f.name,onChange:g,className:ke.table_input})}),o.jsx("span",{className:ke.modal_text,children:i("modal:description")}),o.jsx(Xe,{className:"mb-3",children:o.jsx(et,{name:"description",value:f.description,onChange:g,"aria-label":"Descripción del tablero",className:ke.table_input})}),c&&o.jsx("div",{className:"text-center text-danger fw-bold mt-2 p-2 border border-danger rounded",children:c})]})}),o.jsxs(xt,{className:ke.modal_footer,children:[o.jsx(ue,{color:"secondary",onClick:()=>t(!1),children:i("modal:close")}),o.jsx(ue,{color:"primary",onClick:r==="add"?b:x,children:i("modal:save")}),r!=="add"&&o.jsx(ue,{color:"danger",onClick:()=>u(!0),children:o.jsx($,{icon:tt})})]})]}),o.jsx(li,{visible:d,onClose:()=>u(!1),onConfirm:v})]})},li=({visible:e,onClose:t,onConfirm:n})=>{const{t:r}=ce();return o.jsxs(Ee,{alignment:"center",visible:e,onClose:t,children:[o.jsx(Me,{children:o.jsx(Re,{children:r("modal:confirmation")})}),o.jsx(Ne,{children:r("modal:deleteTable")}),o.jsxs(xt,{children:[o.jsx(ue,{color:"secondary",onClick:t,children:r("modal:cancel")}),o.jsx(ue,{color:"danger",onClick:n,children:r("modal:delete")})]})]})},ci="_modal_header_1cbdu_1",di="_modal_body_1cbdu_7",ui="_task_input_1cbdu_11",fi="_task_select_1cbdu_21",hi="_modal_footer_1cbdu_29",ze={modal_header:ci,modal_body:di,task_input:ui,task_select:fi,modal_footer:hi},mi=({visible:e,setVisible:t,board:n,refreshBoards:r})=>{const{t:s}=ce(),[i,c]=a.useState({title:"",description:"",priority:"1",table_id:n.id}),[l,d]=a.useState(null);a.useEffect(()=>{c(g=>({...g,table_id:n.id}))},[n.id]);const u=g=>{const{name:b,value:x}=g.target;c(v=>({...v,[b]:x})),b==="title"&&l&&d(null)},f=async g=>{if(g.preventDefault(),i.title.trim()===""){d(s("modal:nonEmptyError"));return}const b=await ms(i);if(b.error){d(b.error);return}else r(),t(!1),d(null)},h=()=>{switch(i.priority){case"1":return o.jsx(Qe,{size:24});case"2":return o.jsx(yt,{size:24});case"3":return o.jsx(bt,{size:24});default:return o.jsx(Qe,{size:24})}};return o.jsxs(Ee,{alignment:"center",visible:e,onClose:()=>{t(!1),d(null),c({title:"",description:"",priority:"1",table_id:n.id})},children:[o.jsx(Me,{className:ze.modal_header,children:o.jsx(Re,{children:s("modal:addTask")})}),o.jsx(Ne,{className:ze.modal_body,children:o.jsxs(Bn,{children:[o.jsx(Xe,{className:"mb-3",children:o.jsx(Te,{name:"title",value:i.title,onChange:u,placeholder:s("modal:title"),className:ze.task_input})}),l&&o.jsx("div",{style:{color:"red",fontSize:"12px",marginBottom:"0.75rem"},children:l}),o.jsx(Xe,{className:"mb-3",children:o.jsx(et,{name:"description",value:i.description,onChange:u,placeholder:s("modal:description"),className:ze.task_input})}),o.jsxs("div",{className:"mb-3 w-50",children:[o.jsxs("div",{className:"d-flex flex-row align-items-center mb-2",children:[o.jsx("span",{className:"me-3",children:s("modal:priority")}),h()]}),o.jsx(Xe,{children:o.jsxs("select",{className:ze.task_select,name:"priority",value:i.priority,onChange:u,children:[o.jsx("option",{value:"1",children:s("modal:low")}),o.jsx("option",{value:"2",children:s("modal:medium")}),o.jsx("option",{value:"3",children:s("modal:high")})]})})]})]})}),o.jsxs(xt,{className:ze.modal_footer,children:[o.jsx(ue,{color:"secondary",onClick:()=>t(!1),children:s("modal:close")}),o.jsx(ue,{color:"primary",onClick:f,children:s("modal:save")})]})]})},an="http://54.165.249.157/api",ln=localStorage.getItem("token"),cr=localStorage.getItem("language")||"en",pi=async(e,t)=>{try{return{data:await(await fetch(`${an}/addMember/${e}`,{method:"POST",headers:{Authorization:`Bearer ${ln}`,"Content-Type":"application/json","X-Locale":cr},body:JSON.stringify(t)})).json()}}catch(n){return{error:n.message||"Something went wrong"}}},gi=async(e,t)=>{try{return{data:await(await fetch(`${an}/updateMember/${e}/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${ln}`,"Content-Type":"application/json","X-Locale":cr}})).json()}}catch(n){return{error:n.message||"Something went wrong"}}},vi=async e=>{try{return{data:await(await fetch(`${an}/deleteMember/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${ln}`,"Content-Type":"application/json"}})).json()}}catch(t){return{error:t.message||"Something went wrong"}}},bi="_modal_header_ac9oz_1",yi="_modal_body_ac9oz_6",xi="_member_text_ac9oz_10",ct={modal_header:bi,modal_body:yi,member_text:xi},wi=({visible:e,setVisible:t,board:n,refreshBoards:r})=>{const{t:s}=ce(),[i,c]=a.useState(!1),[l,d]=a.useState(""),[u,f]=a.useState(null),h=m=>{d(m.target.value),f(null)},g=async m=>{if(m.preventDefault(),l.trim()===""){f(s("modal:nonEmptyError"));return}const p=await pi(n.id,{email:l});if(p.data.error){f(p.data.error);return}else c(!1),r(),d("")},b=m=>{m.key==="Enter"&&g(m)},x=async(m,p)=>{const C=await gi(m,p);C.error?alert(C.error):r()},v=async m=>{const p=await vi(m);p.error?alert(p.error):r()};return o.jsxs(Ee,{alignment:"center",visible:e,onClose:()=>t(!1),children:[o.jsx(Me,{className:ct.modal_header,children:o.jsx(Re,{children:s("modal:members")})}),o.jsx(Ne,{className:`${ct.modal_body} d-flex flex-row`,children:n?o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"w-50",children:[o.jsxs("p",{children:[o.jsx("strong",{children:s("modal:owner")})," ",n.owner]}),o.jsxs("div",{className:"d-flex flex-row align-items-center my-2",children:[o.jsx($,{icon:Sn}),o.jsx("span",{children:"→"})," Admin"]}),o.jsx("div",{className:"d-flex flex-column",children:n.members&&n.members.length>0?n.members.map((m,p)=>o.jsxs("div",{className:"d-flex flex-row align-items-center justify-content-between",children:[o.jsx(Gt,{content:o.jsxs("div",{className:"d-flex flex-row align-items-center",style:{cursor:"pointer"},onClick:()=>v(m.member_id),children:[o.jsx("span",{children:s("modal:remove")}),o.jsx($,{icon:tt,style:{color:"red"},className:"ms-2"})]}),placement:"top",children:o.jsx("div",{style:{cursor:"pointer"},children:o.jsx("span",{children:m.email})})}),o.jsx("div",{children:o.jsxs("div",{className:"d-flex flex-row align-items-center",children:[o.jsx(Xt,{checked:m.role==="admin",onChange:()=>x(n.id,m.id),disabled:n.user_rol!=="admin"}),o.jsx($,{icon:Sn})]})})]},p)):o.jsx("span",{children:s("modal:noMembers")})})]}),o.jsx("section",{className:"d-flex flex-column align-items-end w-50",children:n.user_rol==="admin"&&o.jsx(o.Fragment,{children:i?o.jsxs("div",{children:[o.jsx(Te,{value:l,onChange:h,onBlur:()=>c(!1),onKeyDown:b}),u&&o.jsx("div",{style:{color:"red",fontSize:"12px"},children:u})," "]}):o.jsxs("div",{className:"d-flex flex-row align-items-center justify-content-center",style:{cursor:"pointer"},onClick:()=>c(!0),children:[o.jsx($,{icon:wt,className:ct.member_text}),o.jsx("span",{className:`${ct.member_text} ms-1`,children:s("modal:addMember")})]})})})]}):o.jsx("div",{children:s("modal:loading")})})]})},Ci="_board_text_tadct_1",we={board_text:Ci},ji=({board:e,refreshBoards:t})=>{const{t:n}=ce(),[r,s]=a.useState({todo:[],doing:[],review:[],done:[]}),[i,c]=a.useState(!1),[l,d]=a.useState(!1),[u,f]=a.useState(!1),[h,g]=a.useState("all");a.useEffect(()=>{if(e&&e.tasks){const x={todo:[],doing:[],review:[],done:[]};e.tasks.forEach(v=>{(h==="all"||v.priority===h)&&x[v.status]&&x[v.status].push(v)}),s(x)}},[e,h]);function b(x){const{active:v,over:m}=x;if(!m)return;const p=v.data.current.column,C=m.id;if(p===C)return;const y=v.data.current.task;s(k=>{const E={...k};return E[p]=E[p].filter(D=>D.id!==y.id),E[C]=[...E[C],{...y,status:C}],E}),xs(y.id,C).then(k=>{k.error?console.error("Error al actualizar el estado de la tarea",k.error):t()}).catch(k=>{console.error("Error en la solicitud de cambio de estado",k)})}return o.jsxs(o.Fragment,{children:[o.jsx(wi,{visible:u,setVisible:f,board:e,refreshBoards:t}),o.jsx(lr,{visible:i,setVisible:c,board:e,mode:"edit",refreshBoards:t}),o.jsx(mi,{visible:l,setVisible:d,board:e,refreshBoards:t}),o.jsxs(ss,{onDragEnd:b,children:[o.jsxs("div",{className:"d-flex flex-row align-items-center",children:[o.jsx("h2",{className:we.board_text,children:e.name}),e.user_rol==="admin"?o.jsx($,{icon:Fn,className:`${we.board_text} ms-3`,size:"lg",style:{cursor:"pointer"},onClick:()=>c(!0)}):o.jsx(o.Fragment,{})]}),o.jsx("p",{className:we.board_text,children:e.description}),o.jsxs("div",{className:"w-25 d-flex flex-row align-items-center gap-2 mb-3",style:{cursor:"pointer"},onClick:()=>f(!0),children:[o.jsx($,{icon:Zt,size:"lg",className:we.board_text}),o.jsx("span",{className:we.board_text,children:n("kanban:members")})]}),o.jsxs("div",{className:"w-25 d-flex flex-row align-items-center gap-2 mb-3",style:{cursor:"pointer"},onClick:()=>d(!0),children:[o.jsx($,{icon:wt,size:"lg",className:we.board_text}),o.jsx("span",{className:we.board_text,children:n("kanban:addTask")})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:we.board_text,children:n("kanban:filterPriority")}),o.jsxs("select",{className:"form-select w-auto ms-2 d-inline",value:h,onChange:x=>g(x.target.value),children:[o.jsx("option",{value:"all",children:n("kanban:allTasks")}),o.jsx("option",{value:"1",children:n("kanban:lowPriority")}),o.jsx("option",{value:"2",children:n("kanban:mediumPriority")}),o.jsx("option",{value:"3",children:n("kanban:highPriority")})]})]}),o.jsx("div",{style:{display:"flex",gap:"10px"},children:Object.keys(r).map(x=>o.jsx(qs,{id:x,tasks:r[x],refreshBoards:t},x))})]})]})},Si="_dashboard_section_19af9_1",Ei="_dashboard_main_layout_19af9_7",Ni="_dashboard_main_content_19af9_12",Bt={dashboard_section:Si,dashboard_main_layout:Ei,dashboard_main_content:Ni},_i=()=>{const[e,t]=a.useState(window.innerWidth);return a.useEffect(()=>{const n=()=>t(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},Di=()=>o.jsxs("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"8px"},children:[o.jsx("h2",{children:"Pantalla no compatible"}),o.jsx("p",{children:"El tablero Kanban no está disponible en dispositivos con pantallas pequeñas."})]}),ki="_sidebar_1nlgg_1",Ti={sidebar:ki},Mi=({boards:e,setSelectedBoard:t,refreshBoards:n})=>{const{t:r}=ce(),[s,i]=j.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsx(lr,{visible:s,setVisible:i,mode:"add",refreshBoards:n}),o.jsx(Yt,{className:`${Ti.sidebar} border-end`,children:o.jsxs(Tr,{children:[o.jsx(Kt,{children:o.jsx("span",{style:{color:"lightgray"},children:"ToDoList"})}),e.owned&&e.owned.length>0&&o.jsx(ut,{toggler:o.jsxs("div",{className:"d-flex flex-row align-items-center",children:[o.jsx($,{customClassName:"nav-icon",icon:Ir,style:{color:"lightgray"}}),o.jsx("span",{style:{color:"lightgray"},children:r("sidebar:myBoards")})]}),children:e.owned.map((c,l)=>o.jsxs(At,{className:"d-flex flex-row align-items-center",href:"#",onClick:()=>t(c),children:[o.jsx("span",{className:"nav-icon",children:o.jsx("span",{className:"nav-icon-bullet"})})," ",o.jsx("span",{style:{color:"lightgray"},children:c.name})]},l))}),e.member&&e.member.length>0&&o.jsx(ut,{toggler:o.jsxs(o.Fragment,{children:[o.jsx($,{customClassName:"nav-icon",icon:Br,style:{color:"lightgray"}}),o.jsx("span",{style:{color:"lightgray"},children:r("sidebar:teamBoards")})]}),children:e.member.map((c,l)=>o.jsxs(At,{className:"d-flex flex-row align-items-center",href:"#",onClick:()=>t(c),children:[o.jsx("span",{className:"nav-icon",children:o.jsx("span",{className:"nav-icon-bullet"})})," ",o.jsx("span",{style:{color:"lightgray"},children:c.name})]},l))}),o.jsxs(At,{href:"#",onClick:()=>i(!0),children:[o.jsx($,{customClassName:"nav-icon",icon:wt,style:{color:"lightgray"}}),o.jsx("span",{style:{color:"lightgray"},children:r("sidebar:addBoard")})]})]})})]})},Oi=()=>{const{t:e}=ce(),[t,n]=j.useState(null),[r,s]=j.useState({owned:[],member:[]}),i=_i(),c=1150,l=async()=>{const d=await Qs();if(s(d.data),t){const u=d.data.owned.find(f=>f.id===t.id)||d.data.member.find(f=>f.id===t.id);n(u||(d.data.owned.length>0?d.data.owned[0]:null))}else d.data.owned.length>0&&n(d.data.owned[0])};return j.useEffect(()=>{l()},[]),o.jsxs("section",{className:Bt.dashboard_section,children:[o.jsx(Mr,{}),o.jsxs("div",{className:Bt.dashboard_main_layout,children:[o.jsx(Mi,{boards:r,setSelectedBoard:n,refreshBoards:l}),o.jsx("main",{className:Bt.dashboard_main_content,children:t?i<c?o.jsx(Di,{}):o.jsx(ji,{board:t,refreshBoards:l}):o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"2rem",textAlign:"center",color:"#f0f0f0"},children:[o.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"0.5rem",color:"#ffffff"},children:e("dashboard:noBoards")}),o.jsx("p",{style:{fontSize:"1rem",marginBottom:"1.5rem",color:"#cccccc"},children:e("dashboard:createBoard")})]})})]})]})};export{Oi as default};
